<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØªØºÙŠØ±Ø§Øª (ÙÙŠØ²ÙŠØ§Ø¦ÙŠ ÙˆÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ)</title>
    <!-- ØªØ¶Ù…ÙŠÙ† Tailwind CSS Ù„ØªØµÙ…ÙŠÙ… Ø¬Ù…ÙŠÙ„ ÙˆÙ…Ø³ØªØ¬ÙŠØ¨ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ØªØ¶Ù…ÙŠÙ† Ù…ÙƒØªØ¨Ø© Tone.js Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        /* Ø¥Ø¶Ø§ÙØ© Ø®Ø· Inter Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ù…ÙŠÙ„ */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0fdf4; /* Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ Ø¬Ø¯Ø§Ù‹ */
            overflow-x: hidden; /* Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø£ÙÙ‚ÙŠ Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ù‚ØµØ§ØµØ§Øª */
        }
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù‚Ù„Ø¨ (Flip Card) */
        .card-container {
            perspective: 1000px;
            height: 100%;
            width: 100%;
            cursor: pointer;
        }
        .card {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 0.75rem; /* Ø­ÙˆØ§Ù Ù…Ø³ØªØ¯ÙŠØ±Ø© */
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.75rem;
            padding: 0.5rem; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø´Ùˆ Ù„Ù„Ù†ØµÙˆØµ Ø§Ù„Ø·ÙˆÙŠÙ„Ø© */
            font-weight: 600;
            line-height: 1.5;
            word-break: break-word; /* Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø®Ø±ÙˆØ¬ Ø§Ù„Ù†Øµ Ø¹Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
            text-align: center;
        }
        .card-front {
            /* Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø¸Ø§Ù‡Ø± Ù‚Ø¨Ù„ Ø§Ù„Ù‚Ù„Ø¨ (Ø§Ù„Ø®Ù„ÙÙŠØ©) */
            background-color: #fcd34d; /* Ø£ØµÙØ± (Yellow-300) */
            color: #000000; /* Ø£Ø³ÙˆØ¯ */
            border: 4px solid #f59e0b; /* Ø­Ø¯ÙˆØ¯ Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠØ© ØµÙØ±Ø§Ø¡ */
            font-size: 1.25rem; 
        }
        .card-back {
            /* Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø°ÙŠ ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ù‚Ù„Ø¨ (Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©) */
            background-color: #059669; /* Ø£Ø®Ø¶Ø± Ø²Ù…Ø±Ø¯ÙŠ Ø¯Ø§ÙƒÙ† */
            color: white;
            transform: rotateY(180deg);
            font-size: 1.125rem;
            text-align: center;
        }
        .card.matched .card-front {
            /* Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø± ÙˆØ®Ø· Ø£Ø³ÙˆØ¯ */
            background-color: #34d399; /* Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ ÙˆÙˆØ§Ø¶Ø­ (Success Green) */
            color: #000000; /* Ø£Ø³ÙˆØ¯ */
            pointer-events: none;
            border: 4px solid #059669;
        }

        /* ØªØ®Ø·ÙŠØ·Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ù„Ù„Ø£Ø¹Ù…Ø¯Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ */
        .grid-cols-4-auto {
            grid-template-columns: repeat(4, minmax(0, 1fr));
        }
        .grid-cols-5-auto {
            grid-template-columns: repeat(5, minmax(0, 1fr));
        }
        /* Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø³ØªØ¬ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 640px) {
            .grid-cols-4-auto {
                grid-template-columns: repeat(3, minmax(0, 1fr)); /* 3 Ø£Ø¹Ù…Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            }
            .grid-cols-5-auto {
                grid-template-columns: repeat(3, minmax(0, 1fr)); /* 3 Ø£Ø¹Ù…Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            }
        }
        
        /* **********************************************
         * CSS Confetti Effect
         * **********************************************/
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 50; /* ØªØ£ÙƒØ¯ Ù…Ù† Ø¸Ù‡ÙˆØ±Ù‡Ø§ ÙÙˆÙ‚ ÙƒÙ„ Ø´ÙŠØ¡ */
            display: none; /* Ù…Ø®ÙÙŠØ© Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ */
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f0f; /* Ù„ÙˆÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠ */
            opacity: 0;
            animation: fall 3s ease-in forwards;
        }
        
        @keyframes fall {
            0% {
                transform: translate(0, -10vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--end-x), 100vh) rotate(var(--rot-end));
                opacity: 0;
            }
        }
    </style>
</head>
<body class="p-4 sm:p-8 min-h-screen flex flex-col items-center">

    <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù‚ØµØ§ØµØ§Øª (Confetti Container) -->
    <div id="confetti-container" class="confetti-container"></div>
    
    <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© -->
    <header class="w-full max-w-4xl text-center mb-8">
        <h1 class="text-4xl font-extrabold text-green-700 mb-2">Ù„Ø¹Ø¨Ø© Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØªØºÙŠØ±Ø§Øª</h1>
        <p class="text-xl text-green-600 mb-4">ÙÙŠØ²ÙŠØ§Ø¦ÙŠ Ø£Ù… ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØŸ ØªØ­Ø¯Ù‰ Ù†ÙØ³Ùƒ!</p>

        <div id="status-panel" class="flex flex-wrap justify-center sm:justify-between items-center gap-4 bg-white p-4 rounded-xl shadow-lg border border-green-200">
            <div class="text-lg font-bold text-green-800">
                Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="level-display" class="text-2xl text-red-500">1</span>
            </div>
            <div class="text-lg font-bold text-green-800">
                Ø§Ù„ÙØ±Øµ: <span id="lives-display" class="text-2xl tracking-widest">â¤ï¸â¤ï¸â¤ï¸</span>
            </div>
            <div class="text-lg font-bold text-green-800">
                Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timer-display" class="text-2xl text-red-500">0</span> Ø«Ø§Ù†ÙŠØ©
            </div>
        </div>

        <!-- Ø´Ø±ÙŠØ· Ø§Ù„ÙˆÙ‚Øª (Time Bar) -->
        <div class="w-full mt-4">
            <div class="w-full bg-gray-200 rounded-full h-3 sm:h-4 shadow-inner overflow-hidden border border-gray-300">
                <div id="time-bar" class="bg-green-500 h-full rounded-full transition-all duration-1000 ease-linear" style="width: 100%"></div>
            </div>
        </div>
    </header>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ÙÙˆØ² Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Win Modal) -->
    <div id="win-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] hidden backdrop-blur-sm transition-opacity duration-300">
        <div class="bg-white rounded-3xl p-8 max-w-md w-11/12 text-center shadow-2xl border-4 border-yellow-400 transform transition-all">
            <div class="text-6xl mb-4">ğŸ†</div>
            <h2 class="text-3xl font-extrabold text-green-700 mb-4">Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ!</h2>
            <p class="text-xl text-gray-700 mb-8">Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ£Ø«Ø¨ØªÙ‘ Ø£Ù†Ùƒ Ø¹Ø¨Ù‚Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¹Ù„ÙˆÙ…!</p>
            <a href="https://talented-nation.github.io/database/sreward3.html" class="inline-block w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white font-bold py-4 px-8 rounded-full shadow-lg transform hover:scale-105 active:scale-95 transition duration-300 text-2xl">
                Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø¬Ø§Ø¦Ø²ØªÙƒ ğŸ
            </a>
        </div>
    </div>

    <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <main class="w-full max-w-4xl flex flex-col items-center">
        
        <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª -->
        <div id="game-grid" class="w-full grid gap-4 p-4 bg-white rounded-xl shadow-2xl border border-green-300">
            <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø³ØªÙØ¶Ø§Ù Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
        </div>

        <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ²Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="mt-8 flex flex-col items-center w-full">
            <div id="message-box" class="text-2xl font-bold text-gray-700 h-10 mb-4 text-center"></div>
            
            <button id="start-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-xl transition duration-300 transform hover:scale-105 active:scale-95 text-xl" onclick="startGame()">
                Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©!
            </button>
            
            <button id="next-level-button" class="hidden bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-8 rounded-full shadow-xl transition duration-300 transform hover:scale-105 active:scale-95 text-xl" onclick="nextLevel()">
                Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
            </button>
        </div>
    </main>

    <script>
        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ Firebase Ù…Ø­Ø¯Ø¯Ø© ÙÙŠ Ø¨ÙŠØ¦Ø© Canvas
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null; 

        /**
         * ØªØ­Ø¯ÙŠØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
         */
        const GAME_DATA = {
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1: 6 Ø£Ø²ÙˆØ§Ø¬ (12 Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø¬Ù…Ø§Ù„Ø§Ù‹)
            1: {
                pairs: [
                    // Ø£Ù…Ø«Ù„Ø© ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©
                    { id: 'p1', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ø§Ù†ØµÙ‡Ø§Ø± Ø§Ù„Ø«Ù„Ø¬' },
                    { id: 'p2', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ù‚Ø·Ø¹ Ø§Ù„ÙˆØ±Ù‚' },
                    { id: 'p3', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'ÙƒØ³Ø± Ø§Ù„Ø²Ø¬Ø§Ø¬' },
                    // Ø£Ù…Ø«Ù„Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©
                    { id: 'c1', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'ØµØ¯Ø£ Ø§Ù„Ø­Ø¯ÙŠØ¯' },
                    { id: 'c2', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø­Ø±Ù‚ Ø§Ù„Ø®Ø´Ø¨' },
                    { id: 'c3', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø®Ø¨Ø² Ø§Ù„ÙƒØ¹Ùƒ' },
                ],
                timeLimit: 90, 
                gridCols: 4, 
            },
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2: 8 Ø£Ø²ÙˆØ§Ø¬ (16 Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø¬Ù…Ø§Ù„Ø§Ù‹)
            2: {
                pairs: [
                    // Ø£Ù…Ø«Ù„Ø© ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©
                    { id: 'p4', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'ØºÙ„ÙŠØ§Ù† Ø§Ù„Ù…Ø§Ø¡' },
                    { id: 'p5', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'ØªØ¬Ù…Ø¯ Ø§Ù„Ù…Ø§Ø¡' },
                    { id: 'p6', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'ØªÙ…Ø¯Ø¯ Ø§Ù„Ø­Ø¯ÙŠØ¯' },
                    { id: 'p7', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ø·ÙŠ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³' },
                    // Ø£Ù…Ø«Ù„Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©
                    { id: 'c4', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø§Ù„Ø¹ÙÙ†' },
                    { id: 'c5', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ù‡Ø¶Ù… Ø§Ù„Ø·Ø¹Ø§Ù…' },
                    { id: 'c6', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø·Ù‡ÙŠ Ø§Ù„Ø·Ø¹Ø§Ù…' },
                    { id: 'c7', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„ÙˆÙ‚ÙˆØ¯' },
                ], 
                timeLimit: 150, 
                gridCols: 4, 
            },
            // Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3: 10 Ø£Ø²ÙˆØ§Ø¬ (20 Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø¬Ù…Ø§Ù„Ø§Ù‹)
            3: {
                pairs: [
                    // Ø£Ù…Ø«Ù„Ø© ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©
                    { id: 'p8', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'ØªØ´ÙƒÙŠÙ„ Ø§Ù„Ø·ÙŠÙ†' },
                    { id: 'p9', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ø§Ù†ÙƒÙ…Ø§Ø´ Ø§Ù„Ø¨Ø§Ù„ÙˆÙ†' },
                    { id: 'p10', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ø°ÙˆØ¨Ø§Ù† Ø§Ù„Ø³ÙƒØ±' },
                    { id: 'p11', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ø·Ø­Ù† Ø§Ù„Ø´Ø¹ÙŠØ±' },
                    { id: 'p12', type: 'type', text: 'ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ', content: 'Ù‚Øµ Ø§Ù„Ø´Ø¹Ø±' },
                    // Ø£Ù…Ø«Ù„Ø© ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©
                    { id: 'c8', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'ØªØ£ÙƒØ³Ø¯ Ø§Ù„ØªÙØ§Ø­' },
                    { id: 'c9', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'ØªØ­Ù…Ø¶ Ø§Ù„Ø­Ù„ÙŠØ¨' },
                    { id: 'c10', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„Ø®Ø´Ø¨' },
                    { id: 'c11', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ù†Ø¶Ø¬ Ø§Ù„ÙÙˆØ§ÙƒÙ‡' },
                    { id: 'c12', type: 'type', text: 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ', content: 'Ø´ÙˆÙŠ Ø§Ù„Ù„Ø­Ù…' },
                ],
                timeLimit: 180, 
                gridCols: 5, 
            }
        };

        // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentLevel = 1;
        let cards = [];
        let firstCard = null;
        let secondCard = null;
        let matchesFound = 0;
        let totalPairs = 0;
        let timerInterval;
        let timeRemaining;
        let lockBoard = false; 
        
        // Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ±Øµ (Lives)
        const MAX_LIVES = 3;
        let lives = MAX_LIVES;

        // Ø¹Ù†Ø§ØµØ± DOM
        const gameGrid = document.getElementById('game-grid');
        const levelDisplay = document.getElementById('level-display');
        const timerDisplay = document.getElementById('timer-display');
        const livesDisplay = document.getElementById('lives-display');
        const timeBar = document.getElementById('time-bar');
        const startButton = document.getElementById('start-button');
        const nextLevelButton = document.getElementById('next-level-button');
        const messageBox = document.getElementById('message-box');
        const confettiContainer = document.getElementById('confetti-container');
        
        // **********************************************
        // Tone.js Sound Functions
        // **********************************************
        const synth = new Tone.Synth({
            oscillator: { type: "sine" },
            envelope: {
                attack: 0.005,
                decay: 0.1,
                sustain: 0.0,
                release: 0.1
            }
        }).toDestination();
        
        /** ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ù†Ø§Ø¬Ø­Ø© (Ù†ØºÙ…Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©) */
        function playMatchSound() {
            // Tone.start() ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§ Ø¨Ø¹Ø¯ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£ÙˆÙ„
            if (Tone.context.state !== 'running') Tone.start();
            synth.triggerAttackRelease("C5", "8n");
        }
        
        /** ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¹Ø¯Ù… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© (Ù†ØºÙ…Ø© Ø³Ù„Ø¨ÙŠØ©) */
        function playMismatchSound() {
            if (Tone.context.state !== 'running') Tone.start();
            const now = Tone.now();
            synth.triggerAttackRelease("C4", "32n", now);
            synth.triggerAttackRelease("C#4", "32n", now + 0.03); // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ·
        }
        
        /** ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ÙÙˆØ² Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ø£ÙˆØªØ§Ø± ØµØ§Ø¹Ø¯Ø©) */
        function playWinSound() {
            if (Tone.context.state !== 'running') Tone.start();
            const winSynth = new Tone.Synth().toDestination();
            const now = Tone.now();
            winSynth.triggerAttackRelease("C4", "8n", now);
            winSynth.triggerAttackRelease("E4", "8n", now + 0.15);
            winSynth.triggerAttackRelease("G4", "8n", now + 0.3);
            winSynth.triggerAttackRelease("C5", "4n", now + 0.45);
        }

        // **********************************************
        // Confetti Functions
        // **********************************************
        const COLORS = ['#ef9a9a', '#90caf9', '#a5d6a7', '#ffcc80', '#e6ee9c', '#b39ddb']; // Ø£Ù„ÙˆØ§Ù† Ù…Ø¨Ù‡Ø¬Ø©
        
        /** Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø·Ù„Ø§Ù‚ Ù‚ØµØ§ØµØ§Øª ÙˆØ±Ù‚ÙŠØ© Ù…Ø®ØµØµØ© */
        function showConfetti() {
            confettiContainer.style.display = 'block';
            
            for (let i = 0; i < 100; i++) {
                const particle = document.createElement('div');
                particle.classList.add('confetti');
                
                // ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø¨Ø¯Ø§ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠ (Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©)
                const startX = Math.random() * window.innerWidth;
                particle.style.left = `${startX}px`;
                particle.style.top = `${-10 - Math.random() * 20}vh`; // Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©
                
                // ØªØ­Ø¯ÙŠØ¯ Ù„ÙˆÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                particle.style.backgroundColor = COLORS[Math.floor(Math.random() * COLORS.length)];
                
                // ØªØ­Ø¯ÙŠØ¯ ØªØ­ÙˆÙ„ Ù†Ù‡Ø§ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠ (Ù„ØªÙˆØ²ÙŠØ¹Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©)
                const endX = `${(Math.random() * 200) - 100}vw`; // Ø¨ÙŠÙ† -100vw Ùˆ 100vw
                const rotEnd = `${Math.random() * 720}deg`;
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ù…Ø§Ø·
                particle.style.setProperty('--end-x', endX);
                particle.style.setProperty('--rot-end', rotEnd);
                
                // ØªØ·Ø¨ÙŠÙ‚ ØªØ£Ø®ÙŠØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                const delay = Math.random() * 0.5;
                particle.style.animationDelay = `${delay}s`;
                
                confettiContainer.appendChild(particle);
            }
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‚ØµØ§ØµØ§Øª Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒØ©
            setTimeout(() => {
                confettiContainer.style.display = 'none';
                confettiContainer.innerHTML = ''; // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ø§ÙˆÙŠØ©
            }, 3500); // 3.5 Ø«ÙˆØ§Ù†Ù
        }


        // **********************************************
        // Game Logic 
        // **********************************************
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function cardClickListener(event) {
            const cardElement = event.currentTarget.querySelector('.card');
            if (cardElement) {
                handleCardClick(cardElement);
            }
        }

        function createCardElement(cardData) {
            const cardContainer = document.createElement('div');
            cardContainer.className = 'card-container aspect-square'; 
            cardContainer.addEventListener('click', cardClickListener); 

            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.id = cardData.id; 
            card.dataset.type = cardData.type;
            card.dataset.category = cardData.category;

            const cardFront = document.createElement('div');
            cardFront.className = 'card-face card-front text-base sm:text-lg lg:text-xl p-2 sm:p-4';
            cardFront.textContent = cardData.text; 

            const cardBack = document.createElement('div');
            cardBack.className = 'card-face card-back text-sm sm:text-base lg:text-lg';
            
            let backContent = cardData.type === 'example' 
                ? `<p class="mt-1 font-extrabold text-white">Ø¨Ø·Ø§Ù‚Ø© Ù…Ø«Ø§Ù„</p>`
                : `<p class="mt-1 font-extrabold text-white">Ø¨Ø·Ø§Ù‚Ø© Ù†ÙˆØ¹</p>`;
            
            cardBack.innerHTML = `
                 <div class="p-2 sm:p-4">
                     <span class="text-3xl sm:text-4xl">ğŸ’¡</span>
                     ${backContent}
                 </div>
             `;

            card.appendChild(cardBack);
            card.appendChild(cardFront);
            cardContainer.appendChild(card);
            gameGrid.appendChild(cardContainer);
        }
        
        function updateLivesDisplay() {
            // ÙŠØ¹Ø±Ø¶ Ù‚Ù„ÙˆØ¨ Ø­Ù…Ø±Ø§Ø¡ Ù„Ù„ÙØ±Øµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© ÙˆÙ‚Ù„ÙˆØ¨ Ø³ÙˆØ¯Ø§Ø¡/Ø±Ù…Ø§Ø¯ÙŠØ© Ù„Ù„ÙØ±Øµ Ø§Ù„Ø¶Ø§Ø¦Ø¹Ø©
            livesDisplay.textContent = 'â¤ï¸'.repeat(lives) + 'ğŸ–¤'.repeat(MAX_LIVES - lives);
        }

        function initializeLevel() {
            const levelData = GAME_DATA[currentLevel];
            
            if (!levelData) {
                showWinMessage(`ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­! Ø£Ù†Øª Ø¹Ø¨Ù‚Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¹Ù„ÙˆÙ…!`, true); // Ø¥Ø±Ø³Ø§Ù„ Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ÙÙˆØ² Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
                levelDisplay.textContent = Object.keys(GAME_DATA).length; 
                return;
            }

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            totalPairs = levelData.pairs.length;
            matchesFound = 0;
            timeRemaining = levelData.timeLimit;
            lives = MAX_LIVES; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙØ±Øµ Ù…Ø¹ ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯
            updateLivesDisplay();
            
            levelDisplay.textContent = currentLevel;
            timerDisplay.textContent = timeRemaining;

            // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø´Ø±ÙŠØ· Ø§Ù„ÙˆÙ‚Øª
            timeBar.style.width = '100%';
            timeBar.className = 'bg-green-500 h-full rounded-full transition-all duration-1000 ease-linear';
            
            gameGrid.innerHTML = '';
            messageBox.textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${currentLevel}: Ù„Ø¯ÙŠÙƒ ${timeRemaining} Ø«Ø§Ù†ÙŠØ© Ù„Ø¥ÙŠØ¬Ø§Ø¯ ${totalPairs} Ø£Ø²ÙˆØ§Ø¬.`;
            
            gameGrid.className = `w-full grid gap-4 p-4 bg-white rounded-xl shadow-2xl border border-green-300`;
            
            if (levelData.gridCols === 4) {
                gameGrid.classList.add('grid-cols-4-auto');
            } else if (levelData.gridCols === 5) {
                gameGrid.classList.add('grid-cols-5-auto');
            } else {
                gameGrid.classList.add(`grid-cols-${levelData.gridCols}`);
            }

            cards = [];
            levelData.pairs.forEach(pair => {
                cards.push({ id: pair.id, type: 'type', text: pair.text, category: pair.text });
                cards.push({ id: pair.id, type: 'example', text: pair.content, category: pair.text });
            });
            
            shuffle(cards);
            cards.forEach(card => createCardElement(card));
        }
        
        function startGame() {
            startButton.classList.add('hidden');
            nextLevelButton.classList.add('hidden');
            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù‚ØµØ§ØµØ§Øª Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯
            confettiContainer.style.display = 'none'; 
            confettiContainer.innerHTML = ''; 
            
            initializeLevel();
            startTimer();
        }

        function nextLevel() {
            currentLevel++;
            startGame(); 
        }

        function handleCardClick(clickedCard) {
            if (lockBoard || clickedCard.classList.contains('is-flipped')) return;

            // Ø¨Ø¯Ø¡ Tone.js Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø£ÙˆÙ„
            if (Tone.context.state !== 'running') {
                Tone.start();
            }

            clickedCard.classList.add('is-flipped');

            if (!firstCard) {
                firstCard = clickedCard;
                messageBox.textContent = 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰. Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©!';
                return;
            }

            secondCard = clickedCard;
            lockBoard = true; 

            checkForMatch();
        }

        function checkForMatch() {
            // 1. ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚ØªØ§Ù† Ù…Ù† Ø£Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„ÙØ© (ÙˆØ§Ø­Ø¯Ø© 'type' ÙˆØ§Ù„Ø£Ø®Ø±Ù‰ 'example').
            const areDifferentTypes = firstCard.dataset.type !== secondCard.dataset.type;
            // 2. ÙŠØ¬Ø¨ Ø£Ù† ØªÙ†ØªÙ…ÙŠØ§ Ø¥Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø²Ù…Ø±Ø© ('ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ' Ø£Ùˆ 'ØªØºÙŠØ± ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ').
            const sameCategory = firstCard.dataset.category === secondCard.dataset.category;

            const isMatch = areDifferentTypes && sameCategory;
            
            if (isMatch) {
                disableCards();
                messageBox.textContent = 'Ø£Ø­Ø³Ù†Øª! ØªØ·Ø§Ø¨Ù‚ ØµØ­ÙŠØ­! ğŸ¥³';
                matchesFound++;
                checkWinCondition();
            } else {
                // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ÙØ±Øµ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                lives--;
                updateLivesDisplay();
                
                if (lives > 0) {
                    messageBox.textContent = `Ø®Ø·Ø£. ØªØ¨Ù‚Øª Ù„Ùƒ ${lives} ÙØ±Øµ. ğŸ˜¥`;
                    unflipCards();
                } else {
                    messageBox.textContent = 'Ù†ÙØ¯Øª Ø§Ù„ÙØ±Øµ! ğŸ’”';
                    unflipCards(); // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø«Ù… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
                    clearInterval(timerInterval);
                    handleGameOver('lives');
                }
            }
        }

        function disableCards() {
            playMatchSound(); // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù†Ø¬Ø§Ø­
            
            firstCard.classList.add('matched');
            secondCard.classList.add('matched');

            const firstContainer = firstCard.parentElement;
            const secondContainer = secondCard.parentElement;

            firstContainer.removeEventListener('click', cardClickListener);
            secondContainer.removeEventListener('click', cardClickListener);
            
            resetBoard();
        }

        function unflipCards() {
            playMismatchSound(); // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ÙØ´Ù„
            
            setTimeout(() => {
                if (firstCard) firstCard.classList.remove('is-flipped');
                if (secondCard) secondCard.classList.remove('is-flipped');
                resetBoard();
                
                // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ù„ÙˆØ­Ø© Ù…Ù‚ÙÙ„Ø© Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
                if (lives <= 0 || timeRemaining <= 0) {
                    lockBoard = true;
                }
            }, 1200); 
        }

        function resetBoard() {
            [firstCard, secondCard] = [null, null];
            // ØªØ­Ø±ÙŠØ± Ø§Ù„Ù„ÙˆØ­Ø© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ø§ ØªØ²Ø§Ù„ Ù…Ø³ØªÙ…Ø±Ø©
            if (lives > 0 && timeRemaining > 0 && matchesFound < totalPairs) {
                lockBoard = false;
            }
        }

        function checkWinCondition() {
            if (matchesFound === totalPairs) {
                clearInterval(timerInterval); 
                
                const totalLevels = Object.keys(GAME_DATA).length;
                if (currentLevel < totalLevels) {
                    showWinMessage(`ÙÙˆØ²! ğŸ‰ Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${currentLevel} ÙÙŠ ${GAME_DATA[currentLevel].timeLimit - timeRemaining} Ø«ÙˆØ§Ù†Ù. Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ!`);
                    nextLevelButton.classList.remove('hidden');
                } else {
                    // Ø§Ù„ÙÙˆØ² Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ - ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚ØµØ§ØµØ§Øª ÙˆØ§Ù„ØµÙˆØª
                    showWinMessage('ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­! Ø£Ù†Øª Ø¹Ø¨Ù‚Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¹Ù„ÙˆÙ…! ğŸŒŸ', true);
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø§Ù„Ù‚ØµØ§ØµØ§Øª
                    setTimeout(() => {
                        document.getElementById('win-modal').classList.remove('hidden');
                    }, 2000);
                }
            }
        }

        function startTimer() {
            clearInterval(timerInterval); 

            timerInterval = setInterval(() => {
                timeRemaining--;
                timerDisplay.textContent = timeRemaining;

                // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ÙˆÙ‚Øª
                const totalTime = GAME_DATA[currentLevel].timeLimit;
                const percentage = (timeRemaining / totalTime) * 100;
                timeBar.style.width = `${percentage}%`;

                // ØªØºÙŠÙŠØ± Ø£Ù„ÙˆØ§Ù† Ø´Ø±ÙŠØ· Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„Ù†Øµ Ø¹Ù†Ø¯ Ø§Ù‚ØªØ±Ø§Ø¨ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
                if (percentage <= 25) {
                    timeBar.classList.replace('bg-green-500', 'bg-red-500');
                    timeBar.classList.replace('bg-yellow-500', 'bg-red-500');
                    timerDisplay.classList.add('text-red-700'); 
                } else if (percentage <= 50) {
                    timeBar.classList.replace('bg-green-500', 'bg-yellow-500');
                    timerDisplay.classList.remove('text-red-700');
                } else {
                    timerDisplay.classList.remove('text-red-700');
                }

                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    timeBar.style.width = '0%';
                    handleGameOver('time');
                }
            }, 1000);
        }

        function handleGameOver(reason) {
            lockBoard = true; 
            
            if (reason === 'time') {
                showWinMessage(`Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! â±ï¸ Ù„Ù… ØªÙ†Ø¬Ø­ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${currentLevel}.`);
            } else if (reason === 'lives') {
                showWinMessage(`Ù†ÙØ¯Øª Ø§Ù„ÙØ±Øµ! ğŸ’” Ù„Ù… ØªÙ†Ø¬Ø­ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${currentLevel}.`);
            }
            
            nextLevelButton.classList.add('hidden');
        }

        /**
         * Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ÙÙŠ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚ØµØ§ØµØ§Øª Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙˆØ²Ø§Ù‹ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹
         * @param {string} message Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø¹Ø±Ø¶Ù‡.
         * @param {boolean} isFinalWin Ù„ØªØ­Ø¯ÙŠØ¯ Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙˆØ²Ø§Ù‹ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹.
         */
        function showWinMessage(message, isFinalWin = false) {
            messageBox.textContent = message;
            timerDisplay.classList.remove('text-red-700');
            
            if (isFinalWin) {
                playWinSound();
                showConfetti();
            }
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
        document.addEventListener('DOMContentLoaded', () => {
            initializeLevel(); 
            startButton.textContent = 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©!';
        });

    </script>
</body>
</html>
